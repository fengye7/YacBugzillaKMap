{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function radarLayout(ecModel) {\n  ecModel.eachSeriesByType('radar', function (seriesModel) {\n    var data = seriesModel.getData();\n    var points = [];\n    var coordSys = seriesModel.coordinateSystem;\n    if (!coordSys) {\n      return;\n    }\n    var axes = coordSys.getIndicatorAxes();\n    zrUtil.each(axes, function (axis, axisIndex) {\n      data.each(data.mapDimension(axes[axisIndex].dim), function (val, dataIndex) {\n        points[dataIndex] = points[dataIndex] || [];\n        var point = coordSys.dataToPoint(val, axisIndex);\n        points[dataIndex][axisIndex] = isValidPoint(point) ? point : getValueMissingPoint(coordSys);\n      });\n    });\n    // Close polygon\n    data.each(function (idx) {\n      // TODO\n      // Is it appropriate to connect to the next data when some data is missing?\n      // Or, should trade it like `connectNull` in line chart?\n      var firstPoint = zrUtil.find(points[idx], function (point) {\n        return isValidPoint(point);\n      }) || getValueMissingPoint(coordSys);\n      // Copy the first actual point to the end of the array\n      points[idx].push(firstPoint.slice());\n      data.setItemLayout(idx, points[idx]);\n    });\n  });\n}\nfunction isValidPoint(point) {\n  return !isNaN(point[0]) && !isNaN(point[1]);\n}\nfunction getValueMissingPoint(coordSys) {\n  // It is error-prone to input [NaN, NaN] into polygon, polygon.\n  // (probably cause problem when refreshing or animating)\n  return [coordSys.cx, coordSys.cy];\n}","map":{"version":3,"names":["zrUtil","radarLayout","ecModel","eachSeriesByType","seriesModel","data","getData","points","coordSys","coordinateSystem","axes","getIndicatorAxes","each","axis","axisIndex","mapDimension","dim","val","dataIndex","point","dataToPoint","isValidPoint","getValueMissingPoint","idx","firstPoint","find","push","slice","setItemLayout","isNaN","cx","cy"],"sources":["D:/code/bugzilla/527/front-end/node_modules/echarts/lib/chart/radar/radarLayout.js"],"sourcesContent":["\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nexport default function radarLayout(ecModel) {\r\n  ecModel.eachSeriesByType('radar', function (seriesModel) {\r\n    var data = seriesModel.getData();\r\n    var points = [];\r\n    var coordSys = seriesModel.coordinateSystem;\r\n    if (!coordSys) {\r\n      return;\r\n    }\r\n    var axes = coordSys.getIndicatorAxes();\r\n    zrUtil.each(axes, function (axis, axisIndex) {\r\n      data.each(data.mapDimension(axes[axisIndex].dim), function (val, dataIndex) {\r\n        points[dataIndex] = points[dataIndex] || [];\r\n        var point = coordSys.dataToPoint(val, axisIndex);\r\n        points[dataIndex][axisIndex] = isValidPoint(point) ? point : getValueMissingPoint(coordSys);\r\n      });\r\n    });\r\n    // Close polygon\r\n    data.each(function (idx) {\r\n      // TODO\r\n      // Is it appropriate to connect to the next data when some data is missing?\r\n      // Or, should trade it like `connectNull` in line chart?\r\n      var firstPoint = zrUtil.find(points[idx], function (point) {\r\n        return isValidPoint(point);\r\n      }) || getValueMissingPoint(coordSys);\r\n      // Copy the first actual point to the end of the array\r\n      points[idx].push(firstPoint.slice());\r\n      data.setItemLayout(idx, points[idx]);\r\n    });\r\n  });\r\n}\r\nfunction isValidPoint(point) {\r\n  return !isNaN(point[0]) && !isNaN(point[1]);\r\n}\r\nfunction getValueMissingPoint(coordSys) {\r\n  // It is error-prone to input [NaN, NaN] into polygon, polygon.\r\n  // (probably cause problem when refreshing or animating)\r\n  return [coordSys.cx, coordSys.cy];\r\n}"],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,KAAKA,MAAM,MAAM,0BAA0B;AAClD,eAAe,SAASC,WAAWA,CAACC,OAAO,EAAE;EAC3CA,OAAO,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAAUC,WAAW,EAAE;IACvD,IAAIC,IAAI,GAAGD,WAAW,CAACE,OAAO,CAAC,CAAC;IAChC,IAAIC,MAAM,GAAG,EAAE;IACf,IAAIC,QAAQ,GAAGJ,WAAW,CAACK,gBAAgB;IAC3C,IAAI,CAACD,QAAQ,EAAE;MACb;IACF;IACA,IAAIE,IAAI,GAAGF,QAAQ,CAACG,gBAAgB,CAAC,CAAC;IACtCX,MAAM,CAACY,IAAI,CAACF,IAAI,EAAE,UAAUG,IAAI,EAAEC,SAAS,EAAE;MAC3CT,IAAI,CAACO,IAAI,CAACP,IAAI,CAACU,YAAY,CAACL,IAAI,CAACI,SAAS,CAAC,CAACE,GAAG,CAAC,EAAE,UAAUC,GAAG,EAAEC,SAAS,EAAE;QAC1EX,MAAM,CAACW,SAAS,CAAC,GAAGX,MAAM,CAACW,SAAS,CAAC,IAAI,EAAE;QAC3C,IAAIC,KAAK,GAAGX,QAAQ,CAACY,WAAW,CAACH,GAAG,EAAEH,SAAS,CAAC;QAChDP,MAAM,CAACW,SAAS,CAAC,CAACJ,SAAS,CAAC,GAAGO,YAAY,CAACF,KAAK,CAAC,GAAGA,KAAK,GAAGG,oBAAoB,CAACd,QAAQ,CAAC;MAC7F,CAAC,CAAC;IACJ,CAAC,CAAC;IACF;IACAH,IAAI,CAACO,IAAI,CAAC,UAAUW,GAAG,EAAE;MACvB;MACA;MACA;MACA,IAAIC,UAAU,GAAGxB,MAAM,CAACyB,IAAI,CAAClB,MAAM,CAACgB,GAAG,CAAC,EAAE,UAAUJ,KAAK,EAAE;QACzD,OAAOE,YAAY,CAACF,KAAK,CAAC;MAC5B,CAAC,CAAC,IAAIG,oBAAoB,CAACd,QAAQ,CAAC;MACpC;MACAD,MAAM,CAACgB,GAAG,CAAC,CAACG,IAAI,CAACF,UAAU,CAACG,KAAK,CAAC,CAAC,CAAC;MACpCtB,IAAI,CAACuB,aAAa,CAACL,GAAG,EAAEhB,MAAM,CAACgB,GAAG,CAAC,CAAC;IACtC,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AACA,SAASF,YAAYA,CAACF,KAAK,EAAE;EAC3B,OAAO,CAACU,KAAK,CAACV,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAACU,KAAK,CAACV,KAAK,CAAC,CAAC,CAAC,CAAC;AAC7C;AACA,SAASG,oBAAoBA,CAACd,QAAQ,EAAE;EACtC;EACA;EACA,OAAO,CAACA,QAAQ,CAACsB,EAAE,EAAEtB,QAAQ,CAACuB,EAAE,CAAC;AACnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}