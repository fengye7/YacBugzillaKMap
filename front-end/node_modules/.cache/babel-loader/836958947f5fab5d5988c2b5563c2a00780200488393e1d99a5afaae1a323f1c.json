{"ast":null,"code":"import { ref, onMounted } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport BugComments from \"../components/BugComments.vue\";\nexport default {\n  __name: 'BugInfoView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const bug = ref(null);\n    const reported = ref({});\n    const modifieds = ref([]);\n    const comments = ref([]);\n    onMounted(() => {\n      const bugId = route.params.id;\n      fetchBugDetails(bugId);\n    });\n    const fetchBugDetails = async id => {\n      try {\n        const response = await fetch(`http://127.0.0.1:8000/bugs/bug-info/${id}/`, {\n          method: \"GET\",\n          headers: {\n            accept: \"application/json\",\n            \"X-CSRFToken\": \"SefV0fahdjtPu3u5ycuda9wAVMd7L9TJ3PygsawVMfdvQig5KndvjJmQjShhPFre\"\n          }\n        });\n        const data = await response.json();\n        bug.value = data.bug;\n        reported.value = data.reported;\n        modifieds.value = data.modifieds;\n        comments.value = data.comments;\n      } catch (error) {\n        console.error(\"Error fetching bug details:\", error);\n      }\n    };\n    const __returned__ = {\n      route,\n      bug,\n      reported,\n      modifieds,\n      comments,\n      fetchBugDetails,\n      ref,\n      onMounted,\n      get useRoute() {\n        return useRoute;\n      },\n      BugComments\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRoute","BugComments","route","bug","reported","modifieds","comments","bugId","params","id","fetchBugDetails","response","fetch","method","headers","accept","data","json","value","error","console"],"sources":["D:/Files/Code/CoursesProjects/YacBugzilla_KnowledgeMap/front-end/src/views/BugInfoView.vue"],"sourcesContent":["<template>\r\n  <el-container class=\"bug-info-view\">\r\n    <el-header>\r\n      <h2>Bug Details</h2>\r\n    </el-header>\r\n    <el-main>\r\n      <div v-if=\"bug\">\r\n        <el-card class=\"bug-card\">\r\n          <h3>{{ bug.product }} - {{ bug.component }}</h3>\r\n          <el-tag type=\"info\">Bug-{{ bug.id }}</el-tag>\r\n          <el-tag>{{ bug.status }}</el-tag>\r\n          <p class=\"info-item\"><strong>Summary:</strong> <span>{{ bug.summary }}</span></p>\r\n          <p class=\"info-item\"><strong>Version:</strong> <span>{{ bug.version }}</span></p>\r\n          <p class=\"info-item\"><strong>Priority:</strong> <span>{{ bug.priority }}</span></p>\r\n          <p class=\"info-item\"><strong>Severity:</strong> <span>{{ bug.severity }}</span></p>\r\n          <p class=\"info-item\"><strong>Platform:</strong> <span>{{ bug.platform }}</span></p>\r\n          <p class=\"info-item\"><strong>Operating System:</strong> <span>{{ bug.op_sys }}</span></p>\r\n          <p class=\"info-item\"><strong>Assignee:</strong> <span>{{ bug.assignee }}</span></p>\r\n          <p class=\"info-item\"><strong>QA:</strong> <span>{{ bug.QA }}</span></p>\r\n          <p class=\"info-item\"><strong>CC List:</strong> <span>{{ bug.ccList }}</span></p>\r\n          <p class=\"info-item\"><strong>Reported By:</strong> <span>{{ reported.user }} at {{ reported.time }}</span></p>\r\n          <p class=\"info-item\">\r\n            <strong>Modified By:</strong>\r\n            <ol>\r\n              <li v-for=\"mod in modifieds\" :key=\"mod.id\">\r\n                {{ mod.user }} at {{ mod.time }}\r\n              </li>\r\n            </ol>\r\n          </p>\r\n        </el-card>\r\n        <!--评论区域-->\r\n          <bug-comments v-if=\"comments.length > 0\" :comments=\"comments\"></bug-comments>\r\n      </div>\r\n      <div v-else>\r\n        <el-card class=\"loading-card\">\r\n          <p>Loading...</p>\r\n        </el-card>\r\n      </div>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport BugComments from \"../components/BugComments.vue\";\r\n\r\nconst route = useRoute();\r\nconst bug = ref(null);\r\nconst reported = ref({});\r\nconst modifieds = ref([]);\r\nconst comments = ref([]);\r\n\r\nonMounted(() => {\r\n  const bugId = route.params.id;\r\n  fetchBugDetails(bugId);\r\n});\r\n\r\nconst fetchBugDetails = async (id) => {\r\n  try {\r\n    const response = await fetch(`http://127.0.0.1:8000/bugs/bug-info/${id}/`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        \"X-CSRFToken\":\r\n          \"SefV0fahdjtPu3u5ycuda9wAVMd7L9TJ3PygsawVMfdvQig5KndvjJmQjShhPFre\",\r\n      },\r\n    });\r\n    const data = await response.json();\r\n    bug.value = data.bug;\r\n    reported.value = data.reported;\r\n    modifieds.value = data.modifieds;\r\n    comments.value = data.comments;\r\n  } catch (error) {\r\n    console.error(\"Error fetching bug details:\", error);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.bug-info-view {\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, #f0f4f8, #d9e2ec);\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  background-color: #d9e2ec;\r\n}\r\n\r\n.el-header {\r\n  background: #4a90e2;\r\n  color: #fff;\r\n  padding: 10px;\r\n  border-radius: 8px 8px 0 0;\r\n}\r\n\r\n.el-header h2 {\r\n  margin: 0;\r\n  font-size: 24px;\r\n  animation: fadeIn 1s ease-in-out;\r\n}\r\n\r\n.bug-card,\r\n.loading-card {\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  transition: transform 0.2s;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.bug-card:hover,\r\n.comments-card:hover {\r\n  transform: translateY(-5px);\r\n}\r\n\r\n.bug-card h3 {\r\n  color: #333;\r\n  font-size: 20px;\r\n}\r\n\r\n.el-tag {\r\n  margin-right: 5px;\r\n}\r\n\r\n.info-item {\r\n  background: #f9fafb;\r\n  border: 1px solid #e1e4e8;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  margin-bottom: 10px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\nol {\r\n  padding-left: 20px;\r\n}\r\n\r\nol li {\r\n  background: #f9fafb;\r\n  border: 1px solid #e1e4e8;\r\n  padding: 5px;\r\n  border-radius: 4px;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\nstrong {\r\n  color: #8aaace;\r\n}\r\n</style>\r\n"],"mappings":"AA2CA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,SAASC,QAAQ,QAAQ,YAAY;AACrC,OAAOC,WAAW,MAAM,+BAA+B;;;;;;;IAEvD,MAAMC,KAAK,GAAGF,QAAQ,CAAC,CAAC;IACxB,MAAMG,GAAG,GAAGL,GAAG,CAAC,IAAI,CAAC;IACrB,MAAMM,QAAQ,GAAGN,GAAG,CAAC,CAAC,CAAC,CAAC;IACxB,MAAMO,SAAS,GAAGP,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMQ,QAAQ,GAAGR,GAAG,CAAC,EAAE,CAAC;IAExBC,SAAS,CAAC,MAAM;MACd,MAAMQ,KAAK,GAAGL,KAAK,CAACM,MAAM,CAACC,EAAE;MAC7BC,eAAe,CAACH,KAAK,CAAC;IACxB,CAAC,CAAC;IAEF,MAAMG,eAAe,GAAG,MAAOD,EAAE,IAAK;MACpC,IAAI;QACF,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAE,uCAAsCH,EAAG,GAAE,EAAE;UACzEI,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACPC,MAAM,EAAE,kBAAkB;YAC1B,aAAa,EACX;UACJ;QACF,CAAC,CAAC;QACF,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;QAClCd,GAAG,CAACe,KAAK,GAAGF,IAAI,CAACb,GAAG;QACpBC,QAAQ,CAACc,KAAK,GAAGF,IAAI,CAACZ,QAAQ;QAC9BC,SAAS,CAACa,KAAK,GAAGF,IAAI,CAACX,SAAS;QAChCC,QAAQ,CAACY,KAAK,GAAGF,IAAI,CAACV,QAAQ;MAChC,CAAC,CAAC,OAAOa,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}